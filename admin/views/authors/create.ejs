<%- include("../partials/header") %>

<div class="container my-4">
  <h1>➕ Ajouter un auteur</h1>

  <form action="/admin/author" method="POST">
    <!-- Nom -->
    <div class="mb-3">
      <label class="form-label">Nom</label>
      <input type="text" class="form-control" name="name" required>
    </div>

    <!-- Prénom -->
    <div class="mb-3">
      <label class="form-label">Prénom</label>
      <input type="text" class="form-control" name="firstName" required>
    </div>

    <!-- Bio -->
    <div class="mb-3">
      <label class="form-label">Bio</label>
      <textarea class="form-control" name="bio" rows="4"></textarea>
    </div>

    <!-- Livre(s) -->
    <div class="mb-3">
      <label class="form-label">Livre(s)</label>
      <select class="form-select" name="bookIds[]" multiple>
        <% books.forEach(b => { %>
          <option value="<%= b.id %>"><%= b.title %></option>
        <% }) %>
      </select>
      <small class="form-text text-muted">
        Maintenez Ctrl (Windows) ou Cmd (Mac) pour sélectionner plusieurs livres.
      </small>
    </div>

    <!-- Genre(s) -->
    <div class="mb-3">
      <label class="form-label">Genre(s)</label>
      <select class="form-select" name="genreIds[]" multiple>
        <% genres.forEach(g => { %>
          <option value="<%= g.id %>"><%= g.name %></option>
        <% }) %>
      </select>
      <small class="form-text text-muted">
        Vous pouvez choisir plusieurs genres.
      </small>
    </div>

    <button type="submit" class="btn btn-primary">Ajouter</button>
  </form>
</div>

<%- include("../partials/footer") %>